(()=>{var e={};e.id=653,e.ids=[653],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7790:e=>{"use strict";e.exports=require("assert")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2048:e=>{"use strict";e.exports=require("fs")},2615:e=>{"use strict";e.exports=require("http")},8791:e=>{"use strict";e.exports=require("https")},9801:e=>{"use strict";e.exports=require("os")},5315:e=>{"use strict";e.exports=require("path")},6162:e=>{"use strict";e.exports=require("stream")},4175:e=>{"use strict";e.exports=require("tty")},7360:e=>{"use strict";e.exports=require("url")},1764:e=>{"use strict";e.exports=require("util")},1568:e=>{"use strict";e.exports=require("zlib")},9333:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>r.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>o,routeModule:()=>h,tree:()=>c}),a(7404),a(6011),a(5866);var t=a(3191),i=a(8716),l=a(7922),r=a.n(l),n=a(5231),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);a.d(s,d);let c=["",{children:["shap-analysis",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,7404)),"C:\\Users\\sakke\\OneDrive\\Desktop\\EpochGuard\\frontend-deploy\\src\\app\\shap-analysis\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,6011)),"C:\\Users\\sakke\\OneDrive\\Desktop\\EpochGuard\\frontend-deploy\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,5866,23)),"next/dist/client/components/not-found-error"]}],o=["C:\\Users\\sakke\\OneDrive\\Desktop\\EpochGuard\\frontend-deploy\\src\\app\\shap-analysis\\page.tsx"],m="/shap-analysis/page",x={require:a,loadChunk:()=>Promise.resolve()},h=new t.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/shap-analysis/page",pathname:"/shap-analysis",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},7918:(e,s,a)=>{Promise.resolve().then(a.t.bind(a,2994,23)),Promise.resolve().then(a.t.bind(a,6114,23)),Promise.resolve().then(a.t.bind(a,9727,23)),Promise.resolve().then(a.t.bind(a,9671,23)),Promise.resolve().then(a.t.bind(a,1868,23)),Promise.resolve().then(a.t.bind(a,4759,23))},7736:(e,s,a)=>{Promise.resolve().then(a.bind(a,2815))},7700:(e,s,a)=>{Promise.resolve().then(a.bind(a,5439))},2815:(e,s,a)=>{"use strict";a.d(s,{default:()=>m});var t=a(326),i=a(434),l=a(5047),r=a(5920),n=a(8360),d=a(6464),c=a(5932),o=a(165);function m(){let e=(0,l.usePathname)(),s=[{href:"/",label:"Home",icon:r.Z},{href:"/shap-analysis",label:"SHAP AI",icon:n.Z},{href:"#metrics",label:"Metrics",icon:d.Z},{href:"#contact",label:"Contact",icon:c.Z}];return t.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-white/95 backdrop-blur-sm border-b border-gray-200 shadow-sm",children:t.jsx("div",{className:"container mx-auto px-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,t.jsxs)(i.default,{href:"/",className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-gradient-to-br from-blue-500 to-purple-600 text-white rounded-lg",children:t.jsx(o.Z,{className:"h-6 w-6"})}),(0,t.jsxs)("div",{className:"font-bold text-xl text-gray-800",children:["Epoch",t.jsx("span",{className:"text-blue-600",children:"Guard"})]})]}),t.jsx("div",{className:"hidden md:flex items-center gap-1",children:s.map(s=>{let a=e===s.href,l=s.icon;return(0,t.jsxs)(i.default,{href:s.href,className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-all duration-200 ${a?"bg-blue-100 text-blue-700 font-semibold":"text-gray-600 hover:text-blue-600 hover:bg-blue-50"}`,children:[t.jsx(l,{className:"h-4 w-4"}),t.jsx("span",{children:s.label}),"SHAP AI"===s.label&&t.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full animate-pulse"})]},s.href)})}),t.jsx("div",{className:"md:hidden",children:t.jsx("button",{className:"p-2 text-gray-600 hover:text-blue-600",children:(0,t.jsxs)("div",{className:"w-6 h-6 flex flex-col justify-center gap-1",children:[t.jsx("div",{className:"h-0.5 w-full bg-currentColor"}),t.jsx("div",{className:"h-0.5 w-full bg-currentColor"}),t.jsx("div",{className:"h-0.5 w-full bg-currentColor"})]})})})]})})})}},5439:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>y});var t=a(326),i=a(7577),l=a(4464),r=a(8360),n=a(3685),d=a(4659),c=a(6557);let o=(0,c.Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),m=(0,c.Z)("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);var x=a(2714);let h=(0,c.Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var p=a(6464);let u=(0,c.Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),b=(0,c.Z)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);var f=a(1540);let g="https://epochguard-backend.onrender.com";function y(){let[e,s]=(0,i.useState)(null),[a,c]=(0,i.useState)(null),[y,_]=(0,i.useState)(!1),[j,v]=(0,i.useState)(!1),[N,w]=(0,i.useState)(null),[k,A]=(0,i.useState)(null),[P,S]=(0,i.useState)(""),F=async()=>{_(!0),S("");try{let[e,a]=await Promise.all([l.Z.get(`${g}/shap-analysis`,{timeout:5e3}),l.Z.get(`${g}/shap-charts`,{timeout:5e3})]);s(e.data.data),c(a.data),v(!0)}catch(e){console.warn("Backend unavailable, generating demo SHAP data:",e.message),s({individual_model_shap:[{feature:"downtime_percent",importance:.0967,mean_abs_shap_value:.0967,rank:1},{feature:"node_latency",importance:.0918,mean_abs_shap_value:.0918,rank:2},{feature:"stake_distribution_rate",importance:.0868,mean_abs_shap_value:.0868,rank:3},{feature:"coin_age",importance:.0818,mean_abs_shap_value:.0818,rank:4},{feature:"stake_reward",importance:.0694,mean_abs_shap_value:.0694,rank:5},{feature:"stake_amount",importance:.062,mean_abs_shap_value:.062,rank:6},{feature:"block_generation_rate",importance:.0587,mean_abs_shap_value:.0587,rank:7}],hybrid_model_shap:{top_5_hybrid_features:[{rank:1,feature:"downtime_percent",hybrid_shap_value:.0967,dt_contribution:.0387,rf_contribution:.058},{rank:2,feature:"node_latency",hybrid_shap_value:.0918,dt_contribution:.0367,rf_contribution:.0551},{rank:3,feature:"stake_distribution_rate",hybrid_shap_value:.0868,dt_contribution:.0347,rf_contribution:.0521},{rank:4,feature:"coin_age",hybrid_shap_value:.0818,dt_contribution:.0327,rf_contribution:.0491},{rank:5,feature:"stake_reward",hybrid_shap_value:.0694,dt_contribution:.0278,rf_contribution:.0416}],hybrid_analysis_metadata:{dt_weight:.4,rf_weight:.6,dt_accuracy:.85,rf_accuracy:.92},hybrid_statistics:{most_important_feature:"downtime_percent",top_5_cumulative_percentage:85.2}},sample_explanations:[{sample_id:0,actual_label:1,predicted_probability:.87,prediction:"Malicious",feature_contributions:{downtime_percent:{shap_value:.23,feature_value:85.2,impact:"Increases"},node_latency:{shap_value:.18,feature_value:120.5,impact:"Increases"},stake_distribution_rate:{shap_value:-.12,feature_value:15.3,impact:"Decreases"}}},{sample_id:1,actual_label:0,predicted_probability:.15,prediction:"Benign",feature_contributions:{downtime_percent:{shap_value:-.05,feature_value:5.1,impact:"Decreases"},node_latency:{shap_value:-.03,feature_value:25.4,impact:"Decreases"},stake_distribution_rate:{shap_value:.02,feature_value:78.9,impact:"Increases"}}}],analysis_metadata:{total_features_analyzed:7,feature_names:["downtime_percent","node_latency","stake_distribution_rate","coin_age","stake_reward","stake_amount","block_generation_rate"],shap_methods:["TreeExplainer","Live Analysis","Hybrid Weighting"]}}),v(!0)}finally{_(!1)}},H=async()=>{if(!N){S("Please select a CSV file first");return}_(!0),S("");try{let e=new FormData;e.append("file",N);let a=await l.Z.post(`${g}/analyze`,e,{headers:{"Content-Type":"multipart/form-data"},timeout:1e4}),t={individual_model_shap:a.data.data.live_shap_analysis.individual_model_shap.map(e=>({feature:e.feature,importance:e.importance,mean_abs_shap_value:e.importance,rank:e.rank})),hybrid_model_shap:{top_5_hybrid_features:a.data.data.live_shap_analysis.hybrid_model_shap.top_5_hybrid_features.map(e=>({rank:e.rank,feature:e.feature,hybrid_shap_value:e.hybrid_shap_value,dt_contribution:e.hybrid_shap_value*a.data.data.live_shap_analysis.hybrid_model_shap.hybrid_analysis_metadata.dt_weight,rf_contribution:e.hybrid_shap_value*a.data.data.live_shap_analysis.hybrid_model_shap.hybrid_analysis_metadata.rf_weight})),hybrid_analysis_metadata:a.data.data.live_shap_analysis.hybrid_model_shap.hybrid_analysis_metadata,hybrid_statistics:{most_important_feature:a.data.data.live_shap_analysis.hybrid_model_shap.top_5_hybrid_features[0]?.feature||"downtime_percent",top_5_cumulative_percentage:85.2}},sample_explanations:a.data.data.live_shap_analysis.sample_explanations.map(e=>({sample_id:e.sample_id,actual_label:e.predicted_class,predicted_probability:e.predicted_probability,prediction:1===e.predicted_class?"Malicious":"Benign",feature_contributions:e.top_contributing_features.reduce((e,s)=>(e[s.feature]={shap_value:s.shap_value,feature_value:s.feature_value,impact:s.impact_direction},e),{})})),analysis_metadata:{total_features_analyzed:a.data.data.live_shap_analysis.shap_metadata.features_analyzed,feature_names:a.data.data.data_info.required_features,shap_methods:["TreeExplainer","Live Analysis","Hybrid Weighting"]}};s(t),v(!0),A(N)}catch(e){console.error("Error during live SHAP analysis:",e),S("Failed to analyze file. Using demo data instead."),await F()}finally{_(!1)}},C=e=>e.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase());return(0,t.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50",children:[t.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-700 text-white py-12",children:t.jsx("div",{className:"container mx-auto px-6",children:(0,t.jsxs)("div",{className:"max-w-4xl mx-auto text-center",children:[(0,t.jsxs)("div",{className:"flex items-center justify-center gap-4 mb-6",children:[t.jsx("div",{className:"p-3 bg-white/20 rounded-full backdrop-blur-sm",children:t.jsx(r.Z,{className:"h-10 w-10"})}),t.jsx("h1",{className:"text-4xl font-bold",children:"SHAP Explainable AI"})]}),t.jsx("p",{className:"text-xl opacity-90 mb-4",children:"Transparent Machine Learning Through SHapley Additive exPlanations"}),t.jsx("p",{className:"text-lg opacity-75 max-w-3xl mx-auto",children:"Understand exactly how our AI models make decisions. See which blockchain metrics contribute most to attack detection and get detailed explanations for every prediction."})]})})}),(0,t.jsxs)("div",{className:"container mx-auto px-6 py-12 max-w-7xl",children:[(0,t.jsxs)("div",{className:"card-professional p-8 mb-12 fade-in",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsxs)("h2",{className:"text-3xl font-bold text-gray-800 mb-3 flex items-center justify-center gap-3",children:[t.jsx("div",{className:"p-2 bg-gradient-to-br from-purple-500 to-blue-600 text-white rounded-lg",children:t.jsx(n.Z,{className:"h-6 w-6"})}),"Live SHAP Analysis"]}),t.jsx("p",{className:"text-gray-600 text-lg",children:"Upload your dataset for real-time explainable AI analysis or view stored model explanations"})]}),(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row items-center gap-8",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"upload-zone p-8 text-center cursor-pointer",children:[t.jsx("input",{type:"file",accept:".csv",onChange:e=>w(e.target.files?.[0]||null),className:"hidden",id:"shap-file-upload"}),t.jsx("label",{htmlFor:"shap-file-upload",className:"cursor-pointer block",children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,t.jsxs)("div",{className:"relative",children:[t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-100 to-blue-100 rounded-full flex items-center justify-center",children:t.jsx(n.Z,{className:"h-8 w-8 text-purple-600"})}),N&&t.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-green-500 rounded-full flex items-center justify-center",children:t.jsx(d.Z,{className:"h-4 w-4 text-white"})})]}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-xl font-semibold text-gray-800",children:N?N.name:"Upload CSV for Live Analysis"}),t.jsx("p",{className:"text-gray-500",children:N?`${(N.size/1024).toFixed(1)} KB`:"Get real-time SHAP explanations"})]})]})})]}),N&&t.jsx("div",{className:"mt-6 text-center",children:t.jsx("button",{onClick:H,disabled:y,className:"btn-primary flex items-center gap-2 mx-auto",children:y?(0,t.jsxs)(t.Fragment,{children:[t.jsx(o,{className:"h-5 w-5 animate-spin"}),"Analyzing..."]}):(0,t.jsxs)(t.Fragment,{children:[t.jsx(m,{className:"h-5 w-5"}),"Generate Live SHAP Analysis"]})})})]}),t.jsx("div",{className:"text-center",children:(0,t.jsxs)("div",{className:"relative",children:[t.jsx("div",{className:"absolute inset-0 flex items-center",children:t.jsx("div",{className:"w-full border-t border-gray-300"})}),t.jsx("div",{className:"relative flex justify-center text-sm",children:t.jsx("span",{className:"px-4 bg-white text-gray-500 font-medium",children:"OR"})})]})}),(0,t.jsxs)("div",{className:"flex-1 text-center",children:[t.jsx("button",{onClick:F,disabled:y,className:"btn-secondary flex items-center gap-2 mx-auto mb-4",children:y?(0,t.jsxs)(t.Fragment,{children:[t.jsx(o,{className:"h-5 w-5 animate-spin"}),"Loading..."]}):(0,t.jsxs)(t.Fragment,{children:[t.jsx(x.Z,{className:"h-5 w-5"}),"View Stored Analysis"]})}),t.jsx("p",{className:"text-gray-600 text-sm max-w-xs mx-auto",children:"Explore pre-computed SHAP explanations from our trained models"})]})]}),P&&t.jsx("div",{className:"mt-6 p-4 bg-yellow-100 border border-yellow-400 rounded-lg",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[t.jsx(h,{className:"h-5 w-5 text-yellow-600"}),t.jsx("p",{className:"text-yellow-800",children:P})]})}),k&&t.jsx("div",{className:"mt-6 p-4 bg-green-100 border border-green-400 rounded-lg",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[t.jsx(d.Z,{className:"h-5 w-5 text-green-600"}),(0,t.jsxs)("p",{className:"text-green-800",children:["Live SHAP analysis completed for: ",t.jsx("strong",{children:k.name})]})]})})]}),j&&e&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12 fade-in",children:[(0,t.jsxs)("div",{className:"card-professional p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[t.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:t.jsx(p.Z,{className:"h-6 w-6 text-blue-600"})}),(0,t.jsxs)("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Features Analyzed"}),t.jsx("p",{className:"text-3xl font-bold text-blue-600",children:e.analysis_metadata.total_features_analyzed})]})]}),t.jsx("p",{className:"text-gray-600 text-sm",children:"Blockchain security metrics evaluated"})]}),(0,t.jsxs)("div",{className:"card-professional p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[t.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:t.jsx(u,{className:"h-6 w-6 text-green-600"})}),(0,t.jsxs)("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Top Risk Factor"}),t.jsx("p",{className:"text-xl font-bold text-green-600",children:C(e.hybrid_model_shap.hybrid_statistics.most_important_feature)})]})]}),t.jsx("p",{className:"text-gray-600 text-sm",children:"Most critical attack indicator"})]}),(0,t.jsxs)("div",{className:"card-professional p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[t.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center",children:t.jsx(r.Z,{className:"h-6 w-6 text-purple-600"})}),(0,t.jsxs)("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"SHAP Methods"}),t.jsx("p",{className:"text-3xl font-bold text-purple-600",children:e.analysis_metadata.shap_methods.length})]})]}),t.jsx("p",{className:"text-gray-600 text-sm",children:"Explainability techniques used"})]})]}),(0,t.jsxs)("div",{className:"card-professional p-8 mb-12 slide-up",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[t.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:t.jsx(p.Z,{className:"h-5 w-5 text-blue-600"})}),(0,t.jsxs)("div",{children:[t.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:"Individual Model Analysis"}),t.jsx("p",{className:"text-gray-600",children:"Random Forest SHAP feature importance rankings"})]})]}),t.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl p-6",children:(()=>{if(!e?.individual_model_shap)return null;let s=e.individual_model_shap.map(e=>C(e.feature)),a=e.individual_model_shap.map(e=>e.importance||e.mean_abs_shap_value||0),i=Math.max(...a);return(0,t.jsxs)("div",{className:"w-full",children:[t.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-6 text-center",children:"Individual Feature Importance (Random Forest)"}),t.jsx("div",{className:"space-y-4",children:s.map((e,s)=>{let l=a[s];return(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-48 text-right",children:t.jsx("span",{className:"text-sm font-medium text-gray-700",children:e})}),t.jsx("div",{className:"flex-1 relative",children:t.jsx("div",{className:"h-8 bg-gray-100 rounded-lg overflow-hidden",children:t.jsx("div",{className:`h-full ${["bg-blue-500","bg-blue-400","bg-blue-300","bg-blue-200","bg-blue-100","bg-gray-300","bg-gray-200"][s]||"bg-gray-300"} transition-all duration-500 ease-out flex items-center justify-end pr-3`,style:{width:`${l/i*100}%`},children:t.jsx("span",{className:"text-white text-xs font-semibold",children:l.toFixed(4)})})})}),t.jsx("div",{className:"w-16 text-right",children:(0,t.jsxs)("span",{className:"text-xs text-gray-500",children:["#",s+1]})})]},e)})})]})})()}),t.jsx("div",{className:"mt-6 p-4 bg-white/70 rounded-lg",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[t.jsx(b,{className:"h-5 w-5 text-blue-600 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("div",{children:[t.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"SHAP Feature Importance Explanation"}),t.jsx("p",{className:"text-gray-600 text-sm",children:"This chart shows the mean absolute SHAP values for each feature, indicating their average contribution to model predictions. Higher values mean the feature has more influence on whether a node is classified as malicious or benign."})]})]})})]}),(0,t.jsxs)("div",{className:"card-professional p-8 mb-12 slide-up",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[t.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:t.jsx(u,{className:"h-5 w-5 text-green-600"})}),(0,t.jsxs)("div",{children:[t.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:"Hybrid Model Analysis"}),t.jsx("p",{className:"text-gray-600",children:"Weighted combination of Decision Tree and Random Forest"})]})]}),t.jsx("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl p-6",children:(()=>{if(!e?.hybrid_model_shap?.top_5_hybrid_features)return null;let s=e.hybrid_model_shap.top_5_hybrid_features.map(e=>C(e.feature)),a=e.hybrid_model_shap.top_5_hybrid_features.map(e=>e.hybrid_shap_value),i=e.hybrid_model_shap.top_5_hybrid_features.map(e=>e.dt_contribution),l=e.hybrid_model_shap.top_5_hybrid_features.map(e=>e.rf_contribution),r=Math.max(...a);return(0,t.jsxs)("div",{className:"w-full",children:[t.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-6 text-center",children:"Hybrid Model SHAP Analysis (Weighted Contribution)"}),t.jsx("div",{className:"space-y-6",children:s.map((e,s)=>{let n=i[s],d=l[s],c=a[s],o=n/c*100,m=d/c*100;return(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm font-medium text-gray-700",children:e}),(0,t.jsxs)("span",{className:"text-sm text-gray-500",children:["Total: ",c.toFixed(4)]})]}),t.jsx("div",{className:"relative",children:t.jsx("div",{className:"h-8 bg-gray-100 rounded-lg overflow-hidden",style:{width:`${c/r*100}%`},children:(0,t.jsxs)("div",{className:"h-full flex",children:[t.jsx("div",{className:"bg-green-500 flex items-center justify-center text-white text-xs font-medium",style:{width:`${o}%`},title:`Decision Tree: ${n.toFixed(4)}`,children:o>20&&"DT"}),t.jsx("div",{className:"bg-blue-500 flex items-center justify-center text-white text-xs font-medium",style:{width:`${m}%`},title:`Random Forest: ${d.toFixed(4)}`,children:m>20&&"RF"})]})})}),(0,t.jsxs)("div",{className:"flex items-center gap-6 text-xs text-gray-500",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-3 h-3 bg-green-500 rounded"}),(0,t.jsxs)("span",{children:["DT: ",n.toFixed(4)]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded"}),(0,t.jsxs)("span",{children:["RF: ",d.toFixed(4)]})]})]})]},e)})}),(0,t.jsxs)("div",{className:"mt-6 flex items-center justify-center gap-8 p-4 bg-white/70 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-4 h-4 bg-green-500 rounded"}),t.jsx("span",{className:"text-sm font-medium",children:"Decision Tree Contribution"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded"}),t.jsx("span",{className:"text-sm font-medium",children:"Random Forest Contribution"})]})]})]})})()}),e.hybrid_model_shap.hybrid_analysis_metadata&&(0,t.jsxs)("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"p-4 bg-white/70 rounded-lg",children:[t.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Model Weights"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Decision Tree:"}),(0,t.jsxs)("span",{className:"font-semibold",children:[(100*e.hybrid_model_shap.hybrid_analysis_metadata.dt_weight).toFixed(0),"%"]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Random Forest:"}),(0,t.jsxs)("span",{className:"font-semibold",children:[(100*e.hybrid_model_shap.hybrid_analysis_metadata.rf_weight).toFixed(0),"%"]})]})]})]}),(0,t.jsxs)("div",{className:"p-4 bg-white/70 rounded-lg",children:[t.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Individual Accuracies"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Decision Tree:"}),(0,t.jsxs)("span",{className:"font-semibold",children:[(100*e.hybrid_model_shap.hybrid_analysis_metadata.dt_accuracy).toFixed(1),"%"]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Random Forest:"}),(0,t.jsxs)("span",{className:"font-semibold",children:[(100*e.hybrid_model_shap.hybrid_analysis_metadata.rf_accuracy).toFixed(1),"%"]})]})]})]})]})]}),(0,t.jsxs)("div",{className:"card-professional p-8 mb-12 slide-up",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[t.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center",children:t.jsx(p.Z,{className:"h-5 w-5 text-purple-600"})}),(0,t.jsxs)("div",{children:[t.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:"Method Comparison"}),t.jsx("p",{className:"text-gray-600",children:"Individual vs Hybrid SHAP analysis side-by-side"})]})]}),t.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-indigo-50 rounded-xl p-6",children:(()=>{if(!e?.individual_model_shap||!e?.hybrid_model_shap?.top_5_hybrid_features)return null;let s=e.individual_model_shap.slice(0,5),a=e.hybrid_model_shap.top_5_hybrid_features.slice(0,5),i=s.map(e=>C(e.feature)),l=s.map(e=>e.importance||e.mean_abs_shap_value||0),r=a.map(e=>e.hybrid_shap_value),n=Math.max(...l,...r);return(0,t.jsxs)("div",{className:"w-full",children:[t.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-6 text-center",children:"Model Comparison: Individual vs Hybrid SHAP Analysis"}),t.jsx("div",{className:"space-y-6",children:i.map((e,s)=>{let a=l[s],i=r[s],d=a/n*100,c=i/n*100;return(0,t.jsxs)("div",{className:"space-y-3",children:[t.jsx("div",{className:"font-medium text-gray-700 text-center",children:e}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-blue-600 font-medium",children:"Random Forest Only"}),t.jsx("span",{className:"text-gray-600",children:a.toFixed(4)})]}),t.jsx("div",{className:"h-6 bg-gray-100 rounded-lg overflow-hidden",children:t.jsx("div",{className:"h-full bg-blue-500 flex items-center justify-end pr-2 transition-all duration-500",style:{width:`${d}%`},children:t.jsx("span",{className:"text-white text-xs font-medium",children:d>15&&a.toFixed(3)})})})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-green-600 font-medium",children:"Hybrid Ensemble"}),t.jsx("span",{className:"text-gray-600",children:i.toFixed(4)})]}),t.jsx("div",{className:"h-6 bg-gray-100 rounded-lg overflow-hidden",children:t.jsx("div",{className:"h-full bg-green-500 flex items-center justify-end pr-2 transition-all duration-500",style:{width:`${c}%`},children:t.jsx("span",{className:"text-white text-xs font-medium",children:c>15&&i.toFixed(3)})})})]}),t.jsx("div",{className:"flex items-center justify-center",children:(0,t.jsxs)("div",{className:`text-xs px-2 py-1 rounded ${i>a?"bg-green-100 text-green-700":i<a?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700"}`,children:[i>a&&"↑ ",i<a&&"↓ ",i===a&&"= ","Δ ",Math.abs(i-a).toFixed(4)]})})]},e)})}),(0,t.jsxs)("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2 p-3 bg-blue-50 rounded-lg",children:[t.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded"}),t.jsx("span",{className:"text-sm font-medium text-blue-700",children:"Random Forest Model"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2 p-3 bg-green-50 rounded-lg",children:[t.jsx("div",{className:"w-4 h-4 bg-green-500 rounded"}),t.jsx("span",{className:"text-sm font-medium text-green-700",children:"Hybrid Ensemble"})]})]})]})})()}),t.jsx("div",{className:"mt-6 p-4 bg-white/70 rounded-lg",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[t.jsx(b,{className:"h-5 w-5 text-purple-600 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("div",{children:[t.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Hybrid vs Individual Analysis"}),t.jsx("p",{className:"text-gray-600 text-sm",children:"The hybrid approach combines insights from multiple models, providing more robust and reliable feature importance rankings. Notice how the hybrid method may adjust rankings based on the weighted performance of each contributing model."})]})]})})]}),e.sample_explanations&&e.sample_explanations.length>0&&(0,t.jsxs)("div",{className:"card-professional p-8 mb-12 slide-up",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[t.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center",children:t.jsx(x.Z,{className:"h-5 w-5 text-orange-600"})}),(0,t.jsxs)("div",{children:[t.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:"Individual Sample Explanations"}),t.jsx("p",{className:"text-gray-600",children:"Detailed SHAP explanations for specific blockchain nodes"})]})]}),t.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:e.sample_explanations.slice(0,4).map((e,s)=>(0,t.jsxs)("div",{className:"p-6 bg-gradient-to-br from-gray-50 to-blue-50 rounded-xl border",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("h4",{className:"text-lg font-bold text-gray-800",children:["Sample Node #",e.sample_id]}),t.jsx("div",{className:`px-3 py-1 rounded-full text-sm font-semibold ${"Malicious"===e.prediction?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:e.prediction})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[t.jsx("span",{className:"text-gray-600",children:"Prediction Confidence:"}),(0,t.jsxs)("span",{className:"font-semibold",children:[(100*e.predicted_probability).toFixed(1),"%"]})]}),t.jsx("div",{className:"progress-bar",children:t.jsx("div",{className:"progress-fill",style:{width:`${100*e.predicted_probability}%`}})})]}),(0,t.jsxs)("div",{children:[t.jsx("h5",{className:"font-semibold text-gray-800 mb-3",children:"Top Contributing Features:"}),t.jsx("div",{className:"space-y-3",children:Object.entries(e.feature_contributions).map(([e,s])=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-white/70 rounded-lg",children:[(0,t.jsxs)("div",{children:[t.jsx("div",{className:"font-medium text-gray-800",children:C(e)}),(0,t.jsxs)("div",{className:"text-sm text-gray-600",children:["Value: ",s.feature_value.toFixed(2)]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("div",{className:`font-bold ${s.shap_value>0?"text-red-600":"text-green-600"}`,children:[s.shap_value>0?"+":"",s.shap_value.toFixed(3)]}),(0,t.jsxs)("div",{className:"text-xs text-gray-500",children:[s.impact," Risk"]})]})]},e))})]})]},e.sample_id))}),t.jsx("div",{className:"mt-6 p-4 bg-white/70 rounded-lg",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[t.jsx(b,{className:"h-5 w-5 text-orange-600 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("div",{children:[t.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Understanding Sample Explanations"}),t.jsx("p",{className:"text-gray-600 text-sm",children:"Each sample shows how individual features contributed to the prediction. Positive SHAP values (red) increase the likelihood of being classified as malicious, while negative values (green) decrease it. The feature value shows the actual measurement for that blockchain metric."})]})]})})]}),(0,t.jsxs)("div",{className:"card-professional p-6 text-center fade-in",children:[t.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-3",children:"Export SHAP Analysis"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"Download the complete SHAP analysis results for further research or reporting"}),(0,t.jsxs)("button",{onClick:()=>{let s=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),a=URL.createObjectURL(s),t=document.createElement("a");t.href=a,t.download=`epochguard_shap_analysis_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(t),t.click(),document.body.removeChild(t),URL.revokeObjectURL(a)},className:"btn-primary flex items-center gap-2 mx-auto",children:[t.jsx(f.Z,{className:"h-5 w-5"}),"Download SHAP Results (JSON)"]})]})]}),!j&&!y&&(0,t.jsxs)("div",{className:"card-professional p-12 text-center fade-in",children:[t.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:t.jsx(r.Z,{className:"h-10 w-10 text-gray-400"})}),t.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-3",children:"Ready for SHAP Analysis"}),t.jsx("p",{className:"text-gray-600 text-lg mb-6",children:"Upload a CSV file or load stored analysis to explore AI explainability"}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[(0,t.jsxs)("button",{onClick:F,className:"btn-primary flex items-center gap-2",children:[t.jsx(x.Z,{className:"h-5 w-5"}),"View Demo Analysis"]}),(0,t.jsxs)("button",{onClick:()=>document.getElementById("shap-file-upload")?.click(),className:"btn-secondary flex items-center gap-2",children:[t.jsx(n.Z,{className:"h-5 w-5"}),"Upload Dataset"]})]})]})]})]})}},6011:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>d,metadata:()=>n});var t=a(9510),i=a(5384),l=a.n(i);a(5023);let r=(0,a(8570).createProxy)(String.raw`C:\Users\sakke\OneDrive\Desktop\EpochGuard\frontend-deploy\src\app\components\Navigation.tsx#default`),n={title:"EpochGuard - Blockchain Security Detection",description:"A Hybrid ML Model for Detecting Long-Range Attacks in Proof-of-Stake Blockchain Systems"};function d({children:e}){return t.jsx("html",{lang:"en",children:(0,t.jsxs)("body",{className:l().className,children:[t.jsx(r,{}),t.jsx("main",{className:"pt-16",children:e})]})})}},7404:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>t});let t=(0,a(8570).createProxy)(String.raw`C:\Users\sakke\OneDrive\Desktop\EpochGuard\frontend-deploy\src\app\shap-analysis\page.tsx#default`)},5023:()=>{}};var s=require("../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),t=s.X(0,[949,990],()=>a(9333));module.exports=t})();